<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#fff">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/weather.css">
    <link rel="shortcut icon" href="images/weather.png" type="image/png">
    <link rel="manifest" href="app.webmanifest">
    <title>Weather</title>
</head>

<body class="dark">
    <div class="wrapper">
        <section id="background" class="">
            <section id="weather">
                <div class="weather-card">                
                    <div class="weather-status">
                        <div id="current-temperature">
                            16
                            <sup>
                                o
                                <span id="units">C</span>
                            </sup>
                        </div>
                        <div id="location">
                            Haldwani,
                            <span id="date"></span>
                        </div>
                        <div id="status"></div>
                    </div>
                    <div class="weather-icon">
                    </div>
                </div>
                <div class="future-forecast">
                    <div class="fc-day">
                        <div class="fc-date active">Today</div>
                        <div class="fc-weather">
                            <div class="fc-icon">
                                <img src="images/clouds.png" alt="Cloudy">
                            </div>
                            <div class="fc-minmax">27 / 12</div>
                        </div>
                    </div>
                    <div class="fc-day">
                        <div class="fc-date">Tomorrow</div>
                        <div class="fc-weather">
                            <div class="fc-icon">
                                <img src="images/rain.png" alt="Rainy">
                            </div>
                            <div class="fc-minmax">28 / 16</div>
                        </div>
                    </div>
                    <div class="fc-day">
                        <div class="fc-date" id="third-day-date"></div>
                        <div class="fc-weather">
                            <div class="fc-icon">
                                <img src="images/sun.png" alt="Cloudy">
                            </div>
                            <div class="fc-minmax">26 / 14</div>
                        </div>
                    </div>
                </div>
                <div class="current-details">
                    <h4>Current Details</h4>
                    <div class="d-row">
                        <div class="o-detail">
                            <div class="d-info">
                                <p>Wind Speed</p>
                                <p>
                                    5.1 km/h
                                    <span class="wind-speed-logo">
                                        <img src="images/east.png" alt="Wind direction" class="invert">
                                    </span>
                                </p>
                            </div>
                            <div class="d-icon">
                                <img src="images/wind.png" alt="wind" class="invert">
                            </div>
                        </div>
                        <div class="o-detail">
                            <div class="d-info">
                                <p>Feels Like</p>
                                <p>
                                    16 <sup>o</sup>
                                    <span id="units">C</span>
                                </p>
                            </div>
                            <div class="d-icon">
                                <img src="images/thermometer.png" alt="feels like" class="invert">
                            </div>
                        </div>
                    </div>
                    <div class="d-row">
                        <div class="o-detail">
                            <div class="d-info">
                                <p>Humidity</p>
                                <p>
                                    81%
                                </p>
                            </div>
                            <div class="d-icon"></div>
                        </div>
                        <div class="o-detail">
                            <div class="d-info">
                                <p>UV Index</p>
                                <p>
                                    1.1
                                </p>
                            </div>
                            <div class="d-icon">
                                <img src="images/sun (1).png" alt="UV Index" class="invert">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="current-details">
                    <h4>Other Details</h4>
                    <div class="d-row">
                        <div class="o-detail">
                            <div class="d-info">
                                <p>Sunrise</p>
                                <p>
                                    7:20 am
                                </p>
                            </div>
                            <div class="d-icon">
                                <img src="images/sunrise.png" alt="wind" class="invert">
                            </div>
                        </div>
                        <div class="o-detail">
                            <div class="d-info">
                                <p>Sunset/p>
                                <p>
                                    5:43 pm
                                </p>
                            </div>
                            <div class="d-icon">
                                <img src="images/sunset.png" alt="feels like" class="invert">
                            </div>
                        </div>
                    </div>
                    <div class="d-row">
                        <div class="o-detail">
                            <div class="d-info">
                                <p>Pressure</p>
                                <p>
                                    1000 Pa
                                </p>
                            </div>
                            <div class="d-icon">
                                <img src="images/barometer.png" alt="Pressure" class="invert">
                            </div>
                        </div>
                        <div class="o-detail">
                            <div class="d-info">
                                <p>Visibility</p>
                                <p>
                                    14 KM
                                </p>
                            </div>
                            <div class="d-icon">
                                <img src="images/sun (1).png" alt="UV Index" class="invert">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="hjkll" style="height: 150px;"></div>
            </section>
        </section>
        <footer>
            <nav>
                <ul>
                    <li class="active">
                        <div class="icon">
                            <a href="index.html">
                                <img src="images/clock.png" alt="">
                            </a>
                        </div>
                        <h5>Clock</h5>
                    </li>
                    <li>
                        <div class="icon">
                            <img src="images/weather.png" alt="">
                        </div>
                        <h5>Weather</h5>
                    </li>
                    <li>
                        <div class="icon">
                            <a href="settings.html">
                                <img src="images/settings.png" alt="">
                            </a>
                        </div>
                        <h5>Settings</h5>
                    </li>
                </ul>
            </nav>
        </footer>
    </div>
</body>
<script >
    
    const metaTheme = document.querySelector("meta[name = 'theme-color']");
    const background = document.getElementById("background");
    const footer = document.querySelector("footer nav ul");

    let date = new Date();

    let addDays = (date, days) => {
        let result = date;
        result.setDate(result.getDate() + days);
        return result;
    }
 
    const temperatureArea = document.getElementById("current-temperature");
    
    const dateArea = document.getElementById("date");
    dateArea.innerHTML = date.toLocaleDateString();

    const status = document.getElementById("status");
    status.innerHTML = "Clear";
    
    const thirdDay = document.getElementById("third-day-date");
    thirdDay.innerHTML = addDays(date, 3).toLocaleDateString();

    const windSpeedLogo = document.querySelector(".wind-speed-logo");
    const weatherIcon = document.querySelector(".weather-icon");
    windSpeedLogo.style.transform = "rotate(210deg)";

    let createStars = () => {            
        for (let i = 0; i < 80; i++){
            let stars = document.createElement("span");
            stars.classList.add("twinkle");
            stars.style.top = Math.random() * 100 + 'vh';
            stars.style.left = Math.random() * 100 + 'vw';
            stars.style.height = stars.style.width = 1 + Math.random() * 2 + 'px';
            stars.style.animationDelay = 1 + Math.random() * 4 + 's';
            background.append(stars);
        }
    }
    
    let createSnow = () => {            
        for (let i = 0; i < 70; i++){
            let snow = document.createElement("span");
            snow.classList.add("snowflake");
            snow.style.top = Math.random() * 100 + 'vh';
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.height = snow.style.width = 5 + Math.random() * 10 + 'px';
            snow.style.animationDuration = 1 + Math.random() * 4 + 's';
            snow.style.fontSize = 0.75 + Math.random() * 0.5 + 'rem';
            snow.style.opacity = 0.5 + Math.random();
            background.append(snow);
        }
    }

    let createClouds = () => {            
        for (let i = 0; i < 5; i++){
            let clouds = document.createElement("span");
            clouds.classList.add("clouds");
            clouds.style.top = 0 + Math.random() * 20 + 'vh';
            clouds.style.left = 5 + Math.random() * 5 + 'vw';
            clouds.style.animationDuration = 7 + Math.random() * 10 + 's';
            clouds.style.transform = `scale(${0.2 + Math.random()})`;
            clouds.style.opacity = 0.5 + Math.random() * 0.5;
            background.append(clouds);
        }
    }

    let createRain = () => {            
        for (let i = 0; i < 100; i++){
            let rain = document.createElement("span");
            rain.classList.add("raindrop");
            rain.style.top = Math.random() * 100 + 'vh';
            rain.style.left = Math.random() * 100 + 'vw';
            rain.style.height = 10 + Math.random() * 15 + 'px';
            rain.style.width = 1 + Math.random() * 1 + 'px';
            rain.style.animationDuration = 1 + Math.random() * 1 + 's';
            background.append(rain);
        }
    }

    let createFog = () => {
        for (let i = 0; i < 20; i++){
            let fog = document.createElement("span");
            fog.classList.add("fog");
            fog.style.top = 2 + Math.random() * 50 + 'vh';
            fog.style.left = Math.random() * 100 + 'vw';
            fog.style.height = 120 + Math.random() * 10 + 'px';
            fog.style.width = 60 + Math.random() * 10 + 'px';
            fog.style.margin = 2 + Math.random() * 5 + 'px';
            fog.style.animationDelay = -10 + Math.random() * 4 + 's';
            fog.style.animationDuration = 10 + Math.random() * 10 + 's';
            background.append(fog);
        }
    }

    let snowWeather = () => {
        createSnow();
        background.classList.add('snow');
        let div = document.createElement('div');
        div.classList.add("snow-flake-icon");
        weatherIcon.append(div);        
        footer.style.background = "#2395ff";
        metaTheme.setAttribute("content", "#2395ff");
    }

    let clearWeather = () => {
        background.classList.add('clear');
        let sun = document.createElement('div');
        sun.classList.add("sun");
        weatherIcon.append(sun);

        footer.style.background = "#5896fd";
        metaTheme.setAttribute("content", "#5896fd");

        if (date.getHours() >= 19){
            background.classList.add('night');
            createStars();
            footer.style.background = "#021a48";
            metaTheme.setAttribute("content", "#021a48");
            sun.remove();
            let moon = document.createElement('div');
            moon.classList.add("moon");
            weatherIcon.append(moon);
        }
    }

    let createThunder = () => {
        let thunder = document.createElement('div');
        thunder.classList.add('thunder');
        background.append(thunder);
    }

    let fogWeather = () => {
        background.classList.add('foggy');
        createFog();
        footer.style.background = "#333";
        metaTheme.setAttribute("content", "#333");
    }

    let rainWeather = () => {
        background.classList.add('rainy');
        createRain();
        footer.style.background = "#9bc5c3";
        metaTheme.setAttribute("content", "#616161");
    }

    let thunderWeather = () => {
        background.classList.add('rainy');
        createRain();
        createThunder();
        footer.style.background = "#9bc5c3";
        metaTheme.setAttribute("content", "#616161");
    }

    let cloudyWeather = () => {
        background.classList.add('cloudy');
        createClouds();
        footer.style.background = "#d6a4a4";
        metaTheme.setAttribute("content", "#d6a4a4");
    }

    // fogWeather()
    // snowWeather()
    clearWeather()
    // rainWeather()
    // thunderWeather();
    // cloudyWeather()


    let apiResponse =  `               

{
  "lat": 40.12,
  "lon": -96.66,
  "timezone": "America/Chicago",
  "timezone_offset": -18000,
  "current": {
    "dt": 1595243443,
    "sunrise": 1595243663,
    "sunset": 1595296278,
    "temp": 293.28,
    "feels_like": 293.82,
    "pressure": 1016,
    "humidity": 100,
    "dew_point": 293.28,
    "uvi": 10.64,
    "clouds": 90,
    "visibility": 10000,
    "wind_speed": 4.6,
    "wind_deg": 310,
    "weather": [
      {
        "id": 501,
        "main": "Rain",
        "description": "moderate rain",
        "icon": "10n"
      },
      {
        "id": 201,
        "main": "Thunderstorm",
        "description": "thunderstorm with rain",
        "icon": "11n"
      }
    ],
    "rain": {
      "1h": 2.93
    }
  },
  "minutely": [
    {
      "dt": 1595243460,
      "precipitation": 2.928
    },
    ...
  },
    "hourly": [
    {
      "dt": 1595242800,
      "temp": 293.28,
      "feels_like": 293.82,
      "pressure": 1016,
      "humidity": 100,
      "dew_point": 293.28,
      "clouds": 90,
      "visibility": 10000,
      "wind_speed": 4.6,
      "wind_deg": 123,
      "weather": [
        {
          "id": 501,
          "main": "Rain",
          "description": "moderate rain",
          "icon": "10n"
        }
      ],
      "pop": 0.99,
      "rain": {
        "1h": 2.46
      }
    },
    ...
  }
"daily": [
    {
      "dt": 1595268000,
      "sunrise": 1595243663,
      "sunset": 1595296278,
      "temp": {
        "day": 298.82,
        "min": 293.25,
        "max": 301.9,
        "night": 293.25,
        "eve": 299.72,
        "morn": 293.48
      },
      "feels_like": {
        "day": 300.06,
        "night": 292.46,
        "eve": 300.87,
        "morn": 293.75
      },
      "pressure": 1014,
      "humidity": 82,
      "dew_point": 295.52,
      "wind_speed": 5.22,
      "wind_deg": 146,
      "weather": [
        {
          "id": 502,
          "main": "Rain",
          "description": "heavy intensity rain",
          "icon": "10d"
        }
      ],
      "clouds": 97,
      "pop": 1,
      "rain": 12.57,
      "uvi": 10.64
    },
    ...
    },
"alerts": [
    {
      "sender_name": "NWS Tulsa (Eastern Oklahoma)",
      "event": "Heat Advisory",
      "start": 1597341600,
      "end": 1597366800,
      "description": "...HEAT ADVISORY REMAINS IN EFFECT FROM 1 PM THIS AFTERNOON TO\n8 PM CDT THIS EVENING...\n* WHAT...Heat index values of 105 to 109 degrees expected.\n* WHERE...Creek, Okfuskee, Okmulgee, McIntosh, Pittsburg,\nLatimer, Pushmataha, and Choctaw Counties.\n* WHEN...From 1 PM to 8 PM CDT Thursday.\n* IMPACTS...The combination of hot temperatures and high\nhumidity will combine to create a dangerous situation in which\nheat illnesses are possible."
    },
    ...
  ]`;
//   console.log(JSON.parse(apiResponse));
            
</script>

</html>